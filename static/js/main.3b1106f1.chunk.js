(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{42:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(23),s=n.n(c),i=n(15),o=n(18),h=n(31),u={weatherCitys:{},thisCity:""};var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_WEATHER":return{weatherCitys:e.payload.weatherFive,thisCity:e.payload.weatherFive.city.name};case"CHANGE_WEATHER":return{thisCity:e.payload.thisCity,weatherCitys:e.payload.weatherFive};default:return t}},j=Object(o.b)({weatherCitys:l,thisCity:l}),p=n(7),b=n.n(p),d=n(22),y=b.a.mark(x),O=b.a.mark(f);function x(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{city:"Minsk"},{city:"Antalya"},{city:"Moscow"},{city:"Bratislava"}],e.next=3,Object(d.b)({type:"FETCH_WEATHER",payload:{weatherFive:t}});case 3:console.log(1);case 4:case"end":return e.stop()}}),y)}function f(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.c)("FETCH_DIRECTIONS",x);case 2:case"end":return t.stop()}}),O)}var m=b.a.mark(w);function w(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.a)([f()]);case 2:case"end":return t.stop()}}),m)}var v=Object(h.a)(),C=Object(o.d)(j,Object(o.a)(v));v.run(w);var N=C,M=(n(42),n(13)),g=n(14),_=n(17),k=n(16),S=(n(43),n(10)),E=n(6),A=n(20);function H(t){return{type:"FETCH_WEATHER",payload:{weatherFive:t}}}n(44);var T=n(2),F=function(t){Object(_.a)(n,t);var e=Object(k.a)(n);function n(){var t;Object(M.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={isScrollingDown:!1,isShowMore:!1,city:""},t.componentDidMount=Object(A.a)(b.a.mark((function e(){var n,r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.location.pathname;case 3:return n=e.sent,r=n.slice(4,n.length),e.next=7,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(r,"&units=metric&appid=b5647a55e8d4130e223c36880624811e"));case 7:return a=e.sent,e.next=10,a.json();case 10:return c=e.sent,(0,t.props.changeWeatherCity)(c),t.setState({city:r}),e.t0=t.props.history,e.next=17,r;case 17:e.t1=e.sent,e.t0.replace.call(e.t0,e.t1),t.setState({isShowMore:!0}),e.next=25;break;case 22:return e.prev=22,e.t2=e.catch(0),e.abrupt("return",t.setState({isShowMore:!1}));case 25:case"end":return e.stop()}}),e,null,[[0,22]])}))),t.handleClick=function(){var e=Object(A.a)(b.a.mark((function e(n){var r,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isShowMore:!1}),e.prev=1,e.next=4,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(n,"&units=metric&appid=b5647a55e8d4130e223c36880624811e"));case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,c=t.props.weatherCity,e.t0=c,e.next=12,a;case 12:return e.t1=e.sent,(0,e.t0)(e.t1),s=t.props.changeWeatherCity,e.t2=s,e.next=18,a;case 18:return e.t3=e.sent,e.next=21,n;case 21:return e.t4=e.sent,(0,e.t2)(e.t3,e.t4),n=a.city.name,t.setState({isShowMore:!0}),t.setState({city:n}),e.t5=t.props.history,e.next=29,n;case 29:e.t6=e.sent,e.t5.replace.call(e.t5,e.t6),e.next=36;break;case 33:return e.prev=33,e.t7=e.catch(1),e.abrupt("return",t.setState({isShowMore:!1}));case 36:case"end":return e.stop()}}),e,null,[[1,33]])})));return function(t){return e.apply(this,arguments)}}(),t.handleChangeCity=function(e){t.setState({city:e.target.value})},t}return Object(g.a)(n,[{key:"render",value:function(){var t=this,e=this.state.isShowMore,n=this.state.city,r=this.props.weatherCitys;return Object(T.jsxs)("section",{className:"form",children:[Object(T.jsx)("input",{placeholder:"enter city",onChange:this.handleChangeCity,value:n}),0!==n.length&&Object(T.jsx)(S.b,{to:e?"/in/".concat(n):"/in/",className:"form__button",onClick:function(){return t.handleClick(n)},children:"Search New City"}),Object(T.jsx)("br",{}),0!==n.length?e?Object(T.jsxs)("i",{className:"clue",children:["If the ",n," is not on the main page, it will automatically be added!"]}):Object(T.jsxs)("i",{className:"clue",children:["No such city: '",n,"'. Please enter an existing city or return to "]}):console.log(""),e&&Object(T.jsxs)("table",{className:"weather",children:[Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:"weather__td",children:"Temperature:\u2103"}),Object(T.jsx)("td",{className:"weather__td",children:"Date"})]}),r.list.map((function(t){return Object(T.jsxs)("tr",{children:[Object(T.jsxs)("td",{className:"weather__td",children:[Math.round(t.main.temp),"\u2103"]}),Object(T.jsx)("td",{className:"weather__td",children:t.dt_txt})]})}))]}),Object(T.jsx)(S.b,{to:"/".concat(n),className:"form__button",children:"HOME"})]})}}]),n}(r.PureComponent),W=Object(E.f)(Object(i.b)((function(t){var e=t.weatherCitys;return{thisCity:t.thisCity.thisCity,weatherCitys:e.weatherCitys}}),(function(t){return{changeWeatherCity:function(e,n){return t(function(t,e){return{type:"CHANGE_WEATHER",payload:{weatherFive:t,thisCity:e}}}(e,n))},weatherCity:function(e){return t(H(e))}}}))(F)),D=(n(50),function(t){Object(_.a)(n,t);var e=Object(k.a)(n);function n(){return Object(M.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(T.jsx)("header",{className:"header",children:Object(T.jsx)("div",{className:"container",children:Object(T.jsx)("h3",{children:"Weather\u263c"})})})}}]),n}(r.PureComponent)),P=Object(i.b)((function(t){return{companyName:t.companyName}}))(D),R=n(30),q=(n(51),function(t){Object(_.a)(n,t);var e=Object(k.a)(n);function n(){var t;Object(M.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={isShowMore:!1,cityMass:[{city:"Minsk"},{city:"Antalya"},{city:"Moscow"},{city:"Bratislava"}],city:""},t.componentDidMount=Object(A.a)(b.a.mark((function e(){var n,r,a,c,s,i,o,h,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.props.location.pathname,r="/"===n?"Minsk":n.slice(1,n.length),e.next=5,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(r,"&units=metric&appid=b5647a55e8d4130e223c36880624811e"));case 5:return a=e.sent,e.next=8,a.json();case 8:return c=e.sent,s=t.props.weatherCity,e.t0=s,e.next=13,c;case 13:e.t1=e.sent,(0,e.t0)(e.t1),t.setState({isShowMore:!0}),i=t.state.cityMass,o={city:r},h=[].concat(Object(R.a)(i),[o]),u=0,i.map((function(t){return t.city===r?u=Number(u)+1:console.log("")})),1!==u?t.setState({cityMass:h}):console.log(""),e.next=27;break;case 25:e.prev=25,e.t2=e.catch(0);case 27:case"end":return e.stop()}}),e,null,[[0,25]])}))),t.handleClick=function(){var e=Object(A.a)(b.a.mark((function e(n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(n,"&units=metric&appid=b5647a55e8d4130e223c36880624811e"));case 3:return r=e.sent,e.next=6,r.json();case 6:a=e.sent,(0,t.props.weatherCity)(a),t.setState({isShowMore:!0}),t.setState({city:n}),t.props.history.replace(n),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),t}return Object(g.a)(n,[{key:"render",value:function(){var t=this,e=this.state.isShowMore,n=this.state.cityMass,r=this.props.weatherCitys,a=this.props.thisCity;return Object(T.jsxs)("section",{className:"form",children:[n.map((function(e){return Object(T.jsx)("button",{className:"form__button",onClick:function(){return t.handleClick("".concat(e.city," "))},children:e.city})})),e&&Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"form__text",children:["Now the weather in ",a," "]}),Object(T.jsx)("table",{className:"table",children:Object(T.jsxs)("tbody",{children:[Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Temperature"}),Object(T.jsx)("td",{children:"Date"})]}),Object(T.jsxs)("tr",{children:[Object(T.jsxs)("td",{children:[Math.round(r.list[0].main.temp),"\u2103"]}),Object(T.jsx)("td",{children:r.list[0].dt_txt.split(" ")[0]})]}),Object(T.jsxs)("tr",{children:[Object(T.jsxs)("td",{children:[Math.round(r.list[8].main.temp),"\u2103"]}),Object(T.jsx)("td",{children:r.list[16].dt_txt.split(" ")[0]})]}),Object(T.jsxs)("tr",{children:[Object(T.jsxs)("td",{children:[Math.round(r.list[16].main.temp),"\u2103"]}),Object(T.jsx)("td",{children:r.list[16].dt_txt.split(" ")[0]})]})]})}),Object(T.jsxs)(S.b,{to:"/in/".concat(a),className:"form__button",children:["More weather in ",a]})]})]})}}]),n}(r.PureComponent)),I=Object(E.f)(Object(i.b)((function(t){var e=t.weatherCitys;return{thisCity:t.thisCity.thisCity,weatherCitys:e.weatherCitys}}),(function(t){return{weatherCity:function(e){return t(H(e))}}}))(q)),B=(n(52),function(t){Object(_.a)(n,t);var e=Object(k.a)(n);function n(){return Object(M.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(T.jsx)("footer",{className:"Footer ",children:Object(T.jsx)("div",{className:"container",children:Object(T.jsx)("h5",{children:"All rights reserved 2022"})})})}}]),n}(r.PureComponent)),G=Object(i.b)((function(t){return{companyName:t.companyName}}))(B),J=function(t){Object(_.a)(n,t);var e=Object(k.a)(n);function n(){return Object(M.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(T.jsx)(S.a,{children:Object(T.jsxs)("main",{children:[Object(T.jsx)(S.b,{to:"/"}),Object(T.jsx)(S.b,{to:"/in/"}),Object(T.jsxs)(E.c,{children:[Object(T.jsxs)(E.a,{exact:!0,path:"/:id?",children:[Object(T.jsx)(P,{}),Object(T.jsx)(I,{}),Object(T.jsx)(G,{})]}),Object(T.jsxs)(E.a,{exact:!0,path:"/in/:id?",children:[Object(T.jsx)(P,{}),Object(T.jsx)(W,{}),Object(T.jsx)(G,{})]})]})]})})}}]),n}(r.PureComponent),z=Object(E.f)(J);s.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(S.a,{children:Object(T.jsx)(i.a,{store:N,children:Object(T.jsx)(z,{})})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.3b1106f1.chunk.js.map